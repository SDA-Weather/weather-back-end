{"version":3,"sources":["./src/app/locations/details/details.component.html","./src/app/locations/list/list.component.html","./src/app/auth/auth.guard.ts","./src/app/locations/details/details.component.css","./src/app/locations/details/details.component.ts","./src/app/locations/list/list.component.css","./src/app/locations/list/list.component.ts","./src/app/locations/locations-routing.module.ts","./src/app/locations/locations.module.ts"],"names":[],"mappings":"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","file":"locations-locations-module-es2015.js","sourcesContent":["export default \"<h3>Location: {{locationWeatherData?.location?.name}}</h3>\\r\\n\\r\\n<table [dataSource]=\\\"locationWeatherData?.weatherData\\\" class=\\\"mat-elevation-z8\\\" mat-table>\\r\\n  <ng-container matColumnDef=\\\"no\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> No.</th>\\r\\n    <td *matCellDef=\\\"let index = index\\\" mat-cell> {{index + 1}} </td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"forecastTimeUtc\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> Forecast time</th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell> {{element.forecastTimeUtc}} </td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"conditionCode\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell></th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell><img src='{{ \\\"assets/images/\\\" + element.conditionCode + \\\".svg\\\" }}'></td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"airTemperature\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> Air temperature</th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell> {{element.airTemperature}} Â°C</td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"windSpeed\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> Wind speed</th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell> {{element.windSpeed}} m/s</td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"windGust\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> Wind gust</th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell> {{element.windGust}} m/s</td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"windDirection\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> Wind direction</th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell> {{element.windDirection}} </td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"cloudCover\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> Cloud cover</th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell> {{element.cloudCover}} %</td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"seaLevelPressure\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> Sea level pressure</th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell> {{element.seaLevelPressure}} hPa</td>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container matColumnDef=\\\"totalPrecipitation\\\">\\r\\n    <th *matHeaderCellDef mat-header-cell> Total precipitation</th>\\r\\n    <td *matCellDef=\\\"let element\\\" mat-cell> {{element.totalPrecipitation}} mm</td>\\r\\n  </ng-container>\\r\\n\\r\\n  <tr *matHeaderRowDef=\\\"displayedColumns\\\" mat-header-row></tr>\\r\\n  <tr *matRowDef=\\\"let row; columns: displayedColumns;\\\" mat-row></tr>\\r\\n</table>\\r\\n\"","export default \"<h3> Locations list </h3>\\r\\n\\r\\n<div>\\r\\n  <mat-form-field>\\r\\n    <mat-label>Find:</mat-label>\\r\\n    <input (keyup)=\\\"applyFilter\\r\\n    ($event)\\\" autocomplete=\\\"off\\\" matInput placeholder=\\\"location...\\\">\\r\\n  </mat-form-field>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"mat-elevation-z8\\\">\\r\\n  <table mat-table [dataSource]=\\\"locations\\\" matSort>\\r\\n\\r\\n    <!-- Add to favorites Column -->\\r\\n    <ng-container matColumnDef=\\\"addFavorite\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef> Favorites </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <button mat-icon-button color=\\\"primary\\\" (click)=\\\"element.disabled = !element.disabled; saveToFavorites(element.id)\\\">\\r\\n          <mat-icon>{{element.disabled ? 'favorite' : 'favorite_border'}}</mat-icon>\\r\\n        </button>\\r\\n      </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Location ID Column -->\\r\\n    <ng-container matColumnDef=\\\"id\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header> No.</th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.id}} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Location Column -->\\r\\n    <ng-container matColumnDef=\\\"name\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header> Location </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"location-col\\\"> {{element.name}} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Administrative division Column -->\\r\\n    <ng-container matColumnDef=\\\"administrativeDivision\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef> Administrative division </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.administrativeDivision}} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- View weather info Column -->\\r\\n    <ng-container matColumnDef=\\\"view\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef> Weather info </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <button [routerLink]=\\\"['/locations', element.id]\\\" aria-label=\\\"Example icon-button with a eye icon\\\" color=\\\"primary\\\" mat-icon-button>\\r\\n          <mat-icon>visibility</mat-icon>\\r\\n        </button>\\r\\n      </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\r\\n  </table>\\r\\n\\r\\n  <mat-paginator [pageSizeOptions]=\\\"[10, 50, 100]\\\"></mat-paginator>\\r\\n</div>\\r\\n\\r\\n\"","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { AuthService } from './auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private authService: AuthService, private router: Router) {\r\n  }\r\n\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): boolean {\r\n    const url: string = state.url;\r\n\r\n    return this.checkLogin(url);\r\n  }\r\n\r\n  checkLogin(url: string): boolean {\r\n    if (this.authService.isLoggedIn()) {\r\n      return true;\r\n    }\r\n\r\n    this.authService.redirectUrl = url;\r\n\r\n    this.router.navigate(['/login']);\r\n    return false;\r\n  }\r\n}\r\n","export default \"h3 {\\r\\n  font-weight: 500;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\ntable {\\r\\n  margin: auto;\\r\\n  max-width: 1024px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\ntable th:first-child {\\r\\n  width: 140px;\\r\\n}\\r\\n\\r\\ntable th:nth-child(2) {\\r\\n  width: 100px;\\r\\n}\\r\\n\\r\\nimg {\\r\\n  max-width: 50%;\\r\\n  height: auto;\\r\\n  width: auto;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.mat-row:hover {\\r\\n  background-color: lightgrey;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9jYXRpb25zL2RldGFpbHMvZGV0YWlscy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsV0FBVztBQUNiOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsY0FBYztFQUNkLFlBQVk7RUFDWixXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsMkJBQTJCO0FBQzdCIiwiZmlsZSI6InNyYy9hcHAvbG9jYXRpb25zL2RldGFpbHMvZGV0YWlscy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaDMge1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG4gIG1heC13aWR0aDogMTAyNHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG50YWJsZSB0aDpmaXJzdC1jaGlsZCB7XHJcbiAgd2lkdGg6IDE0MHB4O1xyXG59XHJcblxyXG50YWJsZSB0aDpudGgtY2hpbGQoMikge1xyXG4gIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuaW1nIHtcclxuICBtYXgtd2lkdGg6IDUwJTtcclxuICBoZWlnaHQ6IGF1dG87XHJcbiAgd2lkdGg6IGF1dG87XHJcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcblxyXG4ubWF0LXJvdzpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmV5O1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../core/api.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nexport interface LocationWeatherData {\r\n  location: Location;\r\n  weatherData: WeatherData;\r\n}\r\n\r\nexport interface Location {\r\n  id: number;\r\n  name: string;\r\n  administrativeDivision: string;\r\n  country: string;\r\n}\r\n\r\nexport interface WeatherData {\r\n  forecastTimeUtc: string;\r\n  conditionCode: string;\r\n  airTemperature: string;\r\n  windSpeed: string;\r\n  windGust: string;\r\n  windDirection: string;\r\n  cloudCover: string;\r\n  seaLevelPressure: string;\r\n  totalPrecipitation: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-details',\r\n  templateUrl: './details.component.html',\r\n  styleUrls: ['./details.component.css']\r\n})\r\nexport class DetailsComponent implements OnInit {\r\n\r\n  displayedColumns: string[] = [\r\n    'forecastTimeUtc',\r\n    'conditionCode',\r\n    'airTemperature',\r\n    'windSpeed',\r\n    'windGust',\r\n    'windDirection',\r\n    'cloudCover',\r\n    'seaLevelPressure',\r\n    'totalPrecipitation'\r\n  ];\r\n\r\n  private locationWeatherData: LocationWeatherData;\r\n\r\n  constructor(\r\n    private api: ApiService,\r\n    private route: ActivatedRoute\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    const id = this.route.snapshot.paramMap.get('id');\r\n    this.api.get('/api/locations/' + id).subscribe((result: LocationWeatherData) => this.locationWeatherData = result);\r\n  }\r\n\r\n}\r\n","export default \"h3 {\\r\\n  font-weight: 500;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\nmat-form-field {\\r\\n  margin-left: auto;\\r\\n}\\r\\n\\r\\n.mat-row:hover {\\r\\n  cursor: pointer;\\r\\n  background-color: lightgrey;\\r\\n}\\r\\n\\r\\ndiv {\\r\\n  margin: auto;\\r\\n  max-width: 1024px;\\r\\n}\\r\\n\\r\\ntable {\\r\\n  margin: auto;\\r\\n  max-width: 1024px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\ntable th:first-child {\\r\\n  width: 80px;\\r\\n}\\r\\n\\r\\ntable th:last-child {\\r\\n  width: 80px;\\r\\n}\\r\\n\\r\\nth.mat-sort-header-sorted {\\r\\n  color: black;\\r\\n}\\r\\n\\r\\n.location-col {\\r\\n  font-weight: 500;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9jYXRpb25zL2xpc3QvbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGVBQWU7RUFDZiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxZQUFZO0VBQ1osaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9sb2NhdGlvbnMvbGlzdC9saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoMyB7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbm1hdC1mb3JtLWZpZWxkIHtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxufVxyXG5cclxuLm1hdC1yb3c6aG92ZXIge1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyZXk7XHJcbn1cclxuXHJcbmRpdiB7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG4gIG1heC13aWR0aDogMTAyNHB4O1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG4gIG1heC13aWR0aDogMTAyNHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG50YWJsZSB0aDpmaXJzdC1jaGlsZCB7XHJcbiAgd2lkdGg6IDgwcHg7XHJcbn1cclxuXHJcbnRhYmxlIHRoOmxhc3QtY2hpbGQge1xyXG4gIHdpZHRoOiA4MHB4O1xyXG59XHJcblxyXG50aC5tYXQtc29ydC1oZWFkZXItc29ydGVkIHtcclxuICBjb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbi5sb2NhdGlvbi1jb2wge1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuIl19 */\"","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {MatPaginator, MatSort, MatTableDataSource} from '@angular/material';\r\n\r\nimport {ApiService} from '../../core/api.service';\r\n\r\ninterface Location {\r\n  id: number;\r\n  name: string;\r\n  administrativeDivision: string;\r\n}\r\n\r\ninterface Error {\r\n  error: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-list',\r\n  styleUrls: ['./list.component.css'],\r\n  templateUrl: './list.component.html'\r\n\r\n})\r\nexport class ListComponent implements OnInit {\r\n  displayedColumns: string[] = ['addFavorite', 'id', 'name', 'administrativeDivision', 'view'];\r\n  locations: MatTableDataSource<Location | Location[]>;\r\n  error: Error;\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n  @ViewChild(MatSort, {static: true}) sort: MatSort;\r\n\r\n  constructor(\r\n    private api: ApiService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.api.get('/api/locations').subscribe((data: Location[]) => {\r\n      this.locations = new MatTableDataSource(data);\r\n      this.locations.paginator = this.paginator;\r\n      this.locations.sort = this.sort;\r\n    });\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.locations.filter = filterValue.trim().toLowerCase();\r\n\r\n    if (this.locations.paginator) {\r\n      this.locations.paginator.firstPage();\r\n    }\r\n  }\r\n\r\n  saveToFavorites(id) {\r\n    this.api.post('/api/locations/favorites', id).subscribe((error: Error) => {\r\n      this.error = error;\r\n      if (!error.error.match('OK')) {\r\n        alert(error.error);\r\n      } else {\r\n        alert('Favorite added.');\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ListComponent } from './list/list.component';\r\nimport { AuthGuard } from '../auth/auth.guard';\r\nimport { DetailsComponent } from './details/details.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ListComponent\r\n  },\r\n  {\r\n    path: ':id',\r\n    canActivate: [AuthGuard],\r\n    component: DetailsComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LocationsRoutingModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {ListComponent} from './list/list.component';\r\nimport {DetailsComponent} from './details/details.component';\r\nimport {LocationsRoutingModule} from './locations-routing.module';\r\nimport {\r\n  MatButtonModule,\r\n  MatFormFieldModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatMenuModule, MatPaginatorModule,\r\n  MatSortModule,\r\n  MatTableModule\r\n} from '@angular/material';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ListComponent,\r\n    DetailsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    LocationsRoutingModule,\r\n    MatTableModule,\r\n    MatIconModule,\r\n    MatMenuModule,\r\n    MatButtonModule,\r\n    MatSortModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatPaginatorModule\r\n  ]\r\n})\r\nexport class LocationsModule {\r\n}\r\n"],"sourceRoot":"webpack:///"}